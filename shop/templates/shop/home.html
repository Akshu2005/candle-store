{% extends 'shop/base.html' %} {% load static %} {% block title %}Home -
CandleShop{% endblock %} {% block content %}
<!-- hero -->
<div class="hero rounded overflow-hidden mb-4 shadow-sm">
  <div id="heroCarousel" class="carousel slide" data-bs-ride="carousel">
    <div class="carousel-inner">
      <div class="carousel-item active">
        <img
          src="{% static 'shop/img/hero1.jpg' %}"
          class="d-block w-100 hero-img"
          alt="hero"
        />
        <div class="carousel-caption d-none d-md-block text-start hero-caption">
          <h1 class="display-6">Handmade scented candles</h1>
          <p class="lead">Calm, relax, and make your space cozy.</p>
          <a class="btn btn-lg btn-primary" href="#products">Shop Now</a>
        </div>
      </div>
      <div class="carousel-item">
        <img
          src="{% static 'shop/img/hero2.jpg' %}"
          class="d-block w-100 hero-img"
          alt="gift"
        />
        <div class="carousel-caption d-none d-md-block hero-caption">
          <h2>Perfect gift sets</h2>
          <p>Delight someone with a scent-sational gift.</p>
        </div>
      </div>
    </div>
    <button
      class="carousel-control-prev"
      type="button"
      data-bs-target="#heroCarousel"
      data-bs-slide="prev"
    >
      <span class="carousel-control-prev-icon"></span>
    </button>
    <button
      class="carousel-control-next"
      type="button"
      data-bs-target="#heroCarousel"
      data-bs-slide="next"
    >
      <span class="carousel-control-next-icon"></span>
    </button>
  </div>
</div>

<!-- categories -->
<div class="mb-4">
  <h5 class="mb-3">Categories</h5>
  <div class="d-flex gap-2 flex-wrap">
    <a
      href="{% url 'home' %}"
      class="chip {% if not selected_cat %}active{% endif %}"
      >All</a
    >
    {% for c in categories %}
    <a
      href="?category={{ c.slug }}"
      class="chip {% if selected_cat == c.slug %}active{% endif %}"
      >{{ c.name }}</a
    >
    {% endfor %}
  </div>
</div>

<!-- products -->
<section id="products">
  <div class="row g-3">
    {% for p in products %}
    <div class="col-sm-6 col-md-3">
      <div class="card product-card h-100">
        <div class="card-thumb">
          <a href="{% url 'product_detail' p.slug %}">
            <img src="{% static 'images/' %}{{ p.image_name }}" />
          </a>
          <!-- <button
            class="btn-wish"
            onclick="location.href='{% url 'toggle_wishlist' p.id %}'"
            title="Add to wishlist"
          >
            <i data-feather="heart"></i>
          </button> -->
          <a href="{% url 'toggle_wishlist' p.id %}">
            <button class="btn-wish" title="Add to wishlist">
              <i data-feather="heart"></i>
            </button>
          </a>
        </div>

        <div class="card-body d-flex flex-column">
          <h6 class="card-title">{{ p.name }}</h6>
          <p class="text-muted small mb-2">
            {{ p.description|truncatechars:60 }}
          </p>

          <div
            class="mt-auto d-flex justify-content-between align-items-center"
          >
            <div class="price">â‚¹{{ p.price }}</div>
            <form method="post" action="{% url 'add_to_cart' p.id %}">
              {% csrf_token %}
              <input type="hidden" name="quantity" value="1" />
              <button class="btn btn-sm btn-primary">Add to Cart</button>
            </form>
          </div>
        </div>
      </div>
    </div>
    {% endfor %}
  </div>

  <!-- pagination -->
  {% if products.has_other_pages %}
  <nav class="mt-4">
    <ul class="pagination justify-content-center">
      {% if products.has_previous %}
      <li class="page-item">
        <a
          class="page-link"
          href="?page={{ products.previous_page_number }}{% if query %}&q={{ query }}{% endif %}"
          >Prev</a
        >
      </li>
      {% else %}
      <li class="page-item disabled"><span class="page-link">Prev</span></li>
      {% endif %} {% for i in products.paginator.page_range %}
      <li class="page-item {% if products.number == i %}active{% endif %}">
        <a
          class="page-link"
          href="?page={{ i }}{% if query %}&q={{ query }}{% endif %}"
          >{{ i }}</a
        >
      </li>
      {% endfor %} {% if products.has_next %}
      <li class="page-item">
        <a
          class="page-link"
          href="?page={{ products.next_page_number }}{% if query %}&q={{ query }}{% endif %}"
          >Next</a
        >
      </li>
      {% else %}
      <li class="page-item disabled"><span class="page-link">Next</span></li>
      {% endif %}
    </ul>
  </nav>
  {% endif %}
</section>

{% endblock %}
